<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Login</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', sans-serif; }
body { display:flex; height:100vh; background:#121212; color:white; }
.left { width:40%; padding:60px; background:#111; display:flex; flex-direction:column; justify-content:center; }
h1 { margin-bottom:10px; }
p { color:#aaa; margin-bottom:30px; }
input { width:100%; padding:12px; margin:10px 0; border:none; background:#1e1e1e; color:white; border-radius:6px; }
input:focus { outline:2px solid #9b6cff; }
a { color:#9b6cff; text-decoration:none; font-size:14px; }
button { margin-top:20px; padding:12px; background:#9b6cff; border:none; color:white; font-size:16px; border-radius:8px; cursor:pointer; }
button:hover { background:#8458e8; }
.bottom { margin-top:25px; font-size:14px; }
.right { width:60%; background:#9b6cff; display:flex; align-items:center; justify-content:center; text-align:center; }
.right h1 { font-size:40px; }
.right p { font-size:18px; margin-top:10px; color:#eee; }
</style>
</head>
<body>

<div class="left">
    <h1>Student Login</h1>
    <p>Enter your account details</p>

    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">

    <a href="forgot.html">Forgot Password?</a>

    <button onclick="login()">Login</button>

    <div class="bottom">
        Don’t have an account? <a href="register.html">Sign Up</a><br><br>
        <a href="index.html">← Back to Home</a>
    </div>
</div>

<div class="right">
    <div>
        <h1>Welcome to Student Portal</h1>
        <p>Login to access your academic records</p>
    </div>
</div>

<script>
function login(){
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();

    if(!username || !password){
        alert("Please enter both username and password!");
        return;
    }

    fetch("http://127.0.0.1:5000/login", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body:JSON.stringify({ username, password })
    })
    .then(res => res.json())
    .then(data => {
        if(data.role === "student"){
            alert("Login Successful");
            window.location.href = "student_dashboard.html";
        } else if(data.message){
            alert(data.message);
        } else {
            alert("Invalid Student Credentials");
        }
    })
    .catch(err => {
        console.error(err);
        alert("Server error, please try again later.");
    });
}
</script>

</body>
</html>